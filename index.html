<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TravelBot Β· LLM μ—¬ν–‰ λ£¨νΈ ν”λλ„</title>

  <!-- Tailwind via CDN (κ°λ°μ©) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- μ»¤μ¤ν…€ μ¤νƒ€μΌ -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="bg-gray-50 text-gray-900">
  <header class="sticky top-0 z-10 bg-white/80 backdrop-blur border-b border-gray-200">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center gap-3">
      <span class="text-xl font-bold">TravelBot</span>
      <span class="text-sm text-gray-500">LLM μ—¬ν–‰ λ£¨νΈ/κ°€μ΄λ“ μ±—λ΄‡</span>
      <span id="env-badge" class="ml-auto inline-flex items-center text-xs rounded-full px-2 py-1 bg-gray-100 text-gray-600">
        λ°±μ—”λ“ λ―Έν™•μΈ
      </span>
    </div>
  </header>

  <main class="max-w-5xl mx-auto p-4 grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Controls -->
    <section class="lg:col-span-1">
      <div class="bg-white rounded-2xl shadow p-4 space-y-4">
        <h2 class="text-lg font-semibold">μ—¬ν–‰ μ΅°κ±΄</h2>
        <form id="plan-form" class="space-y-3">
          <div>
            <label class="block text-sm mb-1" for="backend">λ°±μ—”λ“ URL</label>
            <input id="backend" name="backend" type="url"
                   class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500"
                   placeholder="http://localhost:8000" value="http://localhost:8000" required />
            <p class="text-xs text-gray-500 mt-1">
              Flask μ•±μ΄ λ‹¤λ¥Έ ν¬νΈ/λ„λ©”μΈμΌ κ²½μ° μ—¬κΈ°μ— μ…λ ¥ν•μ„Έμ”. (CORS ν•„μ” μ‹ μ„λ²„μ—μ„ ν—μ© μ„¤μ •)
            </p>
          </div>

          <!-- π”Ή λ„μ‹: μμ  μ…λ ¥ + datalist μλ™μ™„μ„± -->
          <div>
            <label class="block text-sm mb-1" for="city">λ„μ‹</label>
            <input id="city" name="city" type="text"
                   class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500"
                   placeholder="μ: osaka, seoul, tokyo"
                   list="city-options" />
            <datalist id="city-options">
              <option value="osaka">μ¤μ‚¬μΉ΄</option>
              <option value="seoul">μ„μΈ</option>
              <!-- ν•„μ”ν•λ©΄ μ—¬κΈ° κ³„μ† μ¶”κ°€ κ°€λ¥ -->
            </datalist>
            <p class="text-xs text-gray-500 mt-1">
              μλ¬Έ μ†λ¬Έμ λ„μ‹ μ½”λ“λ¥Ό κ¶μ¥ν•©λ‹λ‹¤. (μ: osaka, seoul, tokyo)
            </p>
          </div>

          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-sm mb-1" for="days">μ—¬ν–‰μΌμ</label>
              <input id="days" name="days" type="number" min="1" max="10" value="3"
                     class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500" />
            </div>
            <div>
              <label class="block text-sm mb-1" for="max_walk_min">λ„λ³΄μ μ•½(λ¶„)</label>
              <input id="max_walk_min" name="max_walk_min" type="number" min="5" max="60" value="20"
                     class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500" />
            </div>
          </div>

          <div>
            <label class="block text-sm mb-1" for="interests">κ΄€μ‹¬μ‚¬(μ½¤λ§ κµ¬λ¶„)</label>
            <input id="interests" name="interests" type="text"
                   value="μ•Όκ²½, λ¨Ήκ±°λ¦¬, μΉ΄ν"
                   class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500" />
          </div>

          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-sm mb-1" for="travel_style">μ—¬ν–‰ μ¤νƒ€μΌ</label>
              <select id="travel_style" name="travel_style"
                      class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500">
                <option value="mixed">κ· ν•ν•</option>
                <option value="relax">ν΄μ–‘ν•</option>
                <option value="foodie">λ¨Ήλ°©ν•</option>
                <option value="sightseeing">κ΄€κ΄‘ν•</option>
                <option value="shopping">μ‡Όν•‘ν•</option>
              </select>
            </div>
            <div>
              <label class="block text-sm mb-1" for="budget">μμ‚°</label>
              <select id="budget" name="budget"
                      class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500">
                <option value="$">$ (μ μ•½)</option>
                <option value="$$" selected>$$ (λ³΄ν†µ)</option>
                <option value="$$$">$$$ (μ—¬μ )</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-3 items-end">
            <label class="inline-flex items-center gap-2 mb-2">
              <input id="with_kids" name="with_kids" type="checkbox"
                     class="rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" />
              <span class="text-sm">μ•„μ΄ λ™λ°</span>
            </label>

            <div>
              <label class="block text-sm mb-1" for="num_plans">ν”λ μ(A/B)</label>
              <select id="num_plans" name="num_plans"
                      class="w-full rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 text-sm">
                <option value="1">1κ°</option>
                <option value="2" selected>2κ°</option>
              </select>
            </div>
          </div>

          <button type="submit"
                  class="w-full py-2.5 rounded-xl bg-indigo-600 text-white font-medium hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-200">
            μΌμ • μƒμ„±
          </button>
        </form>

        <div class="pt-2 flex gap-2">
          <button id="quick-osaka"
                  class="text-xs px-2 py-1 rounded-lg bg-gray-100 hover:bg-gray-200">
            μ¤μ‚¬μΉ΄ μμ‹
          </button>
          <button id="quick-seoul"
                  class="text-xs px-2 py-1 rounded-lg bg-gray-100 hover:bg-gray-200">
            μ„μΈ μμ‹
          </button>
        </div>

        <div class="text-xs text-gray-500">
          <p class="mt-2">CORS μ—λ¬κ°€ λ‚λ‹¤λ©΄ Flaskμ— λ‹¤μμ„ μ¶”κ°€ν•μ„Έμ”:</p>
<pre class="bg-gray-900 text-gray-100 p-2 rounded-lg overflow-x-auto"><code>pip install flask-cors
from flask_cors import CORS
CORS(app, resources={r"/*": {"origins": "*"}})</code></pre>
        </div>
         <div id="city-info" class="bg-white rounded-2xl shadow p-4 hidden">
    <div class="flex items-center justify-between mb-2">
      <h2 class="text-sm font-semibold">λ„μ‹ μ •λ³΄</h2>
      <span id="city-info-code" class="text-xs text-gray-400"></span>
    </div>
    <div id="city-info-image-wrapper" class="mb-2">
      <img id="city-info-image" src="" alt="λ„μ‹ μ΄λ―Έμ§€"
           class="w-full h-32 object-cover rounded-xl border border-gray-200 hidden" />
    </div>
    <div id="city-info-label" class="text-base font-semibold mb-1"></div>
    <div id="city-info-desc" class="text-xs text-gray-600 leading-relaxed"></div>
      </div>
    </section>

    <!-- Results + Map -->
    <section class="lg:col-span-2 space-y-4">
      <div class="bg-white rounded-2xl shadow p-4">
        <div class="flex items-center gap-2">
          <h2 class="text-lg font-semibold">μƒμ„± κ²°κ³Ό</h2>
          <span id="loading" class="hidden text-xs ml-auto animate-pulse text-indigo-600">
            μƒμ„± μ¤‘β€¦
          </span>
        </div>

        <div id="narrative" class="prose max-w-none prose-sm mt-2"></div>
        <div id="itinerary" class="mt-4"></div>

        <!-- μ§€λ„ μ»¨ν…μ΄λ„ -->
        <div id="map" class="mt-4 w-full h-64 rounded-xl border border-gray-200"></div>
      </div>
    </section>
  </main>

  <footer class="max-w-5xl mx-auto px-4 py-6 text-xs text-gray-500">
    <p>Backend: <code>/health</code> μ™€ <code>/plan</code> μ—”λ“ν¬μΈνΈλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. (Flask λ°±μ—”λ“μ™€ νΈν™)</p>
  </footer>

  <!-- Google Maps JS: μ‹¤μ  ν‚¤λ΅ κµμ²΄ ν•„μ” -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVkChb1NQ51tmKEXfdTeSgQ4FPn2xkuMY"></script>

  <!-- μ•± λ΅μ§ -->
  <script src="app.js"></script>
</body>
</html>
